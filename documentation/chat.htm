
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="style.css" title="style01.css" media="screen" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<title>Michelle's L2J Dropcalc</title>
</head>
<body>
<table width="100%" height="100%" border="0" class="back1" cellpadding="0" cellspacing="0"><tr><td>
	<table width="100%" height="100%" border="0" class="back2" cellpadding="0" cellspacing="0"><tr><td valign="top">
		<table width="220" border="0" cellpadding="0" cellspacing="0"><tr><td><img src="simages/blank.gif" width="1" height="160"></td></tr><tr><td>
			<ol>
			<li><strong><a href="index.htm" class="mainmenu"> Home</a></strong></li>
			<li><strong><a href="overv.htm" class="mainmenu"> Overview</a></strong></li>
			<li><strong><a href="feat.htm" class="mainmenu"> Features</a></strong></li>
			<li><strong><a href="setup.htm" class="mainmenu"> Initial Setup</a></strong></li>
			<li><strong><a href="setup2.htm" class="mainmenu"> Setup Options - Dropcalc Settings</a></strong></li>
			<li><strong><a href="setup3.htm" class="mainmenu"> Setup Options - Technical Settings</a></strong></li>
			<li><strong><a href="setup4.htm" class="mainmenu"> Setup Options - Cross Gameserver Settings</a></strong></li>
			<li><strong><a href="updating.htm" class="mainmenu"> Updating</a></strong></li>
			<li><strong><a href="telnet.htm" class="mainmenu"> Telnet System</a></strong></li>
			<li><strong><a href="chat.htm" class="mainmenu"> Chat System</a></strong></li>
			<li><strong><a href="dbmain.htm" class="mainmenu"> Database Compare</a></strong></li>
			<li><strong><a href="skin.htm" class="mainmenu"> Changing the skin</a></strong></li>
			<li><strong><a href="automation.htm" class="mainmenu"> Automated systems</a></strong></li>
			<li><strong><a href="routing.htm" class="mainmenu"> Routing traffic</a></strong></li>
			<hr>
			<center><p class="main"><strong>GM Talkthrough</strong></p></center>
			<li><strong><a href="talk1.htm" class="mainmenu"> Logon Page</a></strong></li>
			<li><strong><a href="talk2.htm" class="mainmenu"> Search Basics</a></strong></li>
			<li><strong><a href="talk3.htm" class="mainmenu"> First Menu</a></strong></li>
			<li><strong><a href="talk4.htm" class="mainmenu"> Server Tools</a></strong></li>
			<li><strong><a href="talk5.htm" class="mainmenu"> Log and Console files</a></strong></li>
			<li><strong><a href="talk6.htm" class="mainmenu"> Item Search</a></strong></li>
			<li><strong><a href="talk7.htm" class="mainmenu"> Character Editing</a></strong></li>
			<li><strong><a href="talk8.htm" class="mainmenu"> Mob Searches</a></strong></li>
			<li><strong><a href="talk9.htm" class="mainmenu"> Account Adjustment</a></strong></li>
			<li><strong><a href="talk10.htm" class="mainmenu"> Server Statistics</a></strong></li>
			<li><strong><a href="talk11.htm" class="mainmenu"> Shops and Pets</a></strong></li>
			<li><strong><a href="talk12.htm" class="mainmenu"> Database Utils</a></strong></li>
			<li><strong><a href="talk13.htm" class="mainmenu"> Recipe Calculator</a></strong></li>
			<hr>
			<li><strong><a href="techt.htm" class="mainmenu"> Tech Talk</a></strong></li>
			<li><strong><a href="quest1.htm" class="mainmenu"> Simple Quest Creation Guide</a></strong></li>
			<li><strong><a href="statement.htm" class="mainmenu"> Statement of Liability</a></strong></li>
			</ol>
		</td></tr></table>
		</td><td width="100%" valign="top"><img src="simages/blank.gif" width="1" height="100">
		<h2 class="dropmain">Telnet System</h2>
		<h2 class="dochead">Setting up the chat system</h2>	
		<p class="main">The chat system relies on some system access, and the ability of PHP to execute system calls.  It is at this point that the gameserver directory becomes very important.</p>
		<p class="main">As the chat files can become very large on some servers, the drop calc relies on the Unix operating system call "tail" which generates a separate file that contains only the last forty lines of the chat file.  When dealing with player chat, it also uses the unix systems GREP command, which is used to extract that players specific chat (and that result is then fed through tail).  Obviously this is where some things get sticky for Windows servers.</p>
		<p class="main">For this reason, the target files have to be put somewhere.  The drop calc will attempt to make a sub directory called knightchat and it will try and put it in the /gamserver/log folder.</p>
		<p class="main">The first problem you are going to have is one of permissions.  The drop calc will be running as the web user.  Exactly which one depends on the OS implimentation you have.  There is an easy way around this, however.  Make a note of the permissions assigned to the log directory.  Then change the permissions to 777 and run the chat system.  That should give the drop calc the necessarily rights to create the directory.  Once it has done that, it will then be the owner of the directory, so you can safely return the permissions on the log directory and the drop calc should still work.</p>
		<p class="main">If the system doesn't suceed in making the directory, then check that PHP is not in safe mode.  If safe mode is on, then this prohibits PHP scripts from running system commands.  Read the documentation particular to your PHP installation for its safe setting.</p>
		<p class="main">Windows users will have to switch off the ability to view the last forty lines in order to view the server chat log.  This is done by uncommenting the line ... // $lastlines = ""; ... which you will find in the files clog.php and sconsole.php.  The ability to chat to the player will be unusable as there is no way to easily see what the user types back.  There is also no automatic refresh on the whole chat page.</p>
		<p class="main">&nbsp;</p>
		<center><img src="../simages/bg_foot.gif"></center>
		
	</td></tr></table>
</td><td><img src="../simages/blank.gif" width="20" height="1"></td></tr></table>
<!-- End Content -->
</body>
</html>
